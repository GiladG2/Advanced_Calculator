import pytest

from Parser import evaluate
from exceptions import *
def test():
    assert evaluate("2(3+4)(5-2)") == 42
    assert evaluate("-(2+3)(4-6)") == 10
    assert evaluate("(((2+3)*(4+5)-(6@8))^((3%2)+1))-(((5$3)&4))") == 1440.0
    assert evaluate("2(3(4(5+6))) - (7! + (3^2^2)%5) + (((8@4)$6)&2)") == -4775
    assert evaluate("-(3+5)*(2^3^2) + ((4$2)&(9@3)) - (6%(2+1))") == -4092
    assert evaluate("(((1+2)^(2+1)) @ (3$5)) * (4&2) + (5!-3)") == 149
    assert evaluate("(2+3)(4+5)(6-1) - ((7@3)%2) + (8$1)") == 232
    assert evaluate("(((2^3)^2 - (3*4) + (5@7)) & (9$2)) + (6%4)") == 11
    assert evaluate("-(2(3+4)^2) + (((5@5)$6)&(7-3)) - (4!%3)") == -94
    assert evaluate("((3+5)*(2^4) - (6@2))") == 124
    assert evaluate("(((2+ (3$1)) @ (4&2)) * ((5-3)^(2+1)) - (6%4))") == 26.0
    assert evaluate("((2^3 + 3^2)%(5-2)) * (4@6) + (8$5)") == 18.0
    assert evaluate("((((3@5)$2)&(4+6)) * (2(1+2)) - (7%3))") == 23
    assert evaluate("((2^3^2 + (3+4)(5+6)) % (7@3) + (8$2))") == 12.0
    assert evaluate("(((2+2)^(3) - (4*5) + (6@8)) & (3$7) + (5!))") == 127
    assert evaluate("(-((2^3) * (4@ (3+1))) + (((5$2)&(6-1)) - (3%2)))") == -28
    assert evaluate("(((2+3)*(4+5) - (6@8)) + ((7$3)&(2@4)) - (5!))") == -79
    assert evaluate("(2(3+4)(5-2) + (6^2 % (1+2)) - ((4@2)$3))") == 75
    assert evaluate("(((3+3)^(2+1) @ (5+1)) - (7%4) + (2(1+1)))") == 6**4.5+1
    assert evaluate("((((2@8)$3)&(9-4)) * (3^2) - ((5+1)(2+2)))") == 21


test()

